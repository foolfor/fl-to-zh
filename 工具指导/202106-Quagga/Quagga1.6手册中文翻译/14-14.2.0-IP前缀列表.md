## 14.2 IP前缀列表

`ip prefix-list`提供最强大的基于前缀的过滤机制。除了`access-list`功能之外， `ip prefix-list`还有前缀长度范围规范和序列号规范。您可以使用序列号规范向前缀列表的任意点添加或删除基于前缀的过滤器。

如果未指定 ip prefix-list，则充当许可。如果`ip prefix-list` 已定义，但未找到匹配项，则应用默认拒绝。

```shell
Command: ip prefix-list name (permit|deny) prefix [le len] [ge len]
Command: ip prefix-list name seq number (permit|deny) prefix [le len] [ge len]
```

> 您可以`ip prefix-list`使用上述命令创建。
>
> ```shell
> seq
> ```
>
> 序列号可以自动或手动设置。在手动设置序号的情况下，用户可以选择小于4294967295的任意数字。在自动设置序号的情况下，每个列表以五(5)为单位增加序号。如果在具有指定序列号的列表之后创建了没有指定序列号的列表，则该列表将自动选择下一个五 (5) 的倍数作为列表号。例如，如果一个编号为 2 的列表已经存在，并且创建了一个没有指定编号的新列表，那么下一个列表将被编号为 5。如果列表 2 和 7 已经存在并且创建了一个没有指定编号的新列表，那么新的列表将被编号为 5。列表编号为 10。
>
> ```shell
> le
> ```
>
> `le`命令指定前缀长度。如果前缀长度小于或等于文件前缀长度，则将应用前缀列表。
>
> ```shell
> ge
> ```
>
> `ge`命令指定前缀长度。如果前缀长度大于或等于 ge 前缀长度，则将应用前缀列表。

小于等于前缀号和大于等于前缀号可以一起使用。le 和 ge 命令的顺序无关紧要。

如果创建的前缀列表具有不同的序列号但具有与先前列表完全相同的规则，则会导致错误。但是，在序列号和规则完全相似的情况下，不会导致错误。

如果创建了与前一个列表具有相同序列号的列表，则新列表将覆盖旧列表。

IP Prefix 的匹配是从小到大依次进行的。一旦应用了任何规则，匹配将停止。

在没有 le 或 ge 命令的情况下，前缀长度必须与前缀列表中指定的长度完全匹配。

```shell
Command: no ip prefix-list name
```

- ip前缀列表描述
- ipprefix-list序列号控制
- 显示ip前缀列表
- 清除ipprefix-list的计数器