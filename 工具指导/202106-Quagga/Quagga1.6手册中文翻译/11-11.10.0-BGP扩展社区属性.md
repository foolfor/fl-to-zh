## 11.10 BGP扩展社区属性

MPLS VPN/BGP 技术引入了 BGP 扩展社区属性。MPLS VPN/BGP 扩展了网络基础设施的能力以提供 VPN 功能。同时，它需要一个新的策略路由框架。通过 BGP 扩展社区属性，我们可以使用路由目标或源站点来实施 MPLS VPN/BGP 的网络策略。

BGP 扩展社区属性类似于 BGP 社区属性。它是一个可选的传递属性。BGP 扩展社区属性可以携带多个扩展社区值。每个扩展社区值是八个八位字节长度。

与 BGP 社区属性相比，BGP 扩展社区属性提供了更大的范围。除此之外，每个值中都有一个类型字段来提供社区空间结构。

有两种格式可以定义扩展社区值。一种是基于 AS 的格式，另一种是基于 IP 地址的格式。

```shell
AS:VAL
```

这是一种定义基于 AS 的扩展社区值的格式。 `AS`部分是扩展社区值中的 2 个八位字节全局管理员子字段。 `VAL`部分是 4 个八位字节的本地管理员子字段。 `7675:100`代表 AS 7675 策略值 100。

```shell
IP-Address:VAL
```

这是一种定义基于 IP 地址的扩展社区值的格式。 `IP-Address`部分是 4 个八位字节的全局管理员子字段。 `VAL`部分是 2 个八位字节的本地管理员子字段。 `10.0.0.1:100`代表

- BGP扩展社区列表
- 路由映射中的BGP扩展社区