# 17 内核接口

读取内核路由表信息、更新内核路由表和查找接口有几种不同的方法。

```shell
'ioctl'
```

 `ioctl`方法是一种非常传统的读取或写入内核信息的方式。 `ioctl`可用于查找接口和修改接口地址、标志、mtu 设置和其他类型的信息。而且， `ioctl`可以插入和删除内核路由表条目。它很快将在 zebra 支持的几乎所有平台上可用，但到目前为止它有点难看，所以如果内核支持更好的方法，zebra 将使用它。

```shell
'sysctl'
```

`sysctl`可以使用 MIB（管理信息库）语法查找内核信息。通常，它只提供一种从内核获取信息的方法。因此，人们通常希望使用另一种方法更改内核信息，例如`ioctl`。

```shell
'proc filesystem'
```

`proc filesystem`提供了一种获取内核信息的简单方法。

```shell
'routing socket'
'netlink'
```

在最近的 Linux 内核（2.0.x 和 2.2.x）上，有一个名为`netlink`. 它使内核和 Quagga 之间的异步通信成为可能，类似于 BSD 系统上的路由套接字。

在使用此功能之前，请务必选择（在内核配置中）内核/网络链接支持选项“内核/用户网络链接驱动程序”和“路由消息”。

今天，/dev/route 特殊设备文件已过时。Netlink 通信是通过在 netlink 套接字上读/写来完成的。

内核配置完成后，请重新配置并重建 Quagga。您可以使用 netlink 作为 Quagga 和内核之间的动态路由更新通道。