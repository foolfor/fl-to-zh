## 7.1 OSPF基础知识

OSPF主要是一种链路状态路由协议。与*距离矢量*协议（例如RIP或 BGP）（其中路由器描述彼此可用的*路径*（即路由））相比，在*链路状态*协议中，路由器反而描述了它们到其直接相邻路由器的链路的状态。

每个路由器在称为LSA（链路状态通告）的消息中描述其链路状态信息，然后通过称为*泛洪*的过程将其传播到链路状态路由域中的所有其他路由器。每个路由器因此建立了所有链路状态消息的 LSDB（链路状态数据库）。从 LSDB 中的这个 LSA 集合中，每个路由器都可以根据一些公共度量，通过使用诸如[Edgser Dijkstra](http://www.cs.utexas.edu/users/EWD/)的SPF（最短路径优先）之类的算法来计算到任何其他路由器的最短路径。

通过以这种方式描述网络的连通性，根据路由器和链路而不是通过网络的路径，链路状态协议可以使用更少的带宽并比其他协议更快地收敛。当任何单个给定路由器上的链路改变状态时，链路状态协议只需在整个链路状态域中分发一条链路状态消息，以便所有路由器重新收敛到通过网络的最佳路径上。相比之下，距离矢量协议可能需要来自一系列不同路由器的一系列不同路径更新消息才能收敛。

链路状态协议的缺点是，与距离矢量协议相比，计算最佳路径的过程可能相对密集，在距离矢量协议中，除了（可能）在多条路由之间进行选择之外，几乎不需要进行任何计算。对于现代嵌入式 CPU，即使对于具有数千个节点的网络，这种开销几乎可以忽略不计。随着链路状态区域的大小增加，主要的扩展开销更多地在于应对 LSA 更新的频率越来越高、管理LSDB和所需的泛洪。

本节旨在对OSPF更重要的工作原理进行精炼但准确的描述， 管理员可能需要了解这些工作原理才能最好地配置和排除OSPF故障。