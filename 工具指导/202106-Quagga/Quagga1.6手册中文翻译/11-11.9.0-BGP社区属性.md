## 11.9 BGP社区属性

BGP 社区属性广泛用于实现策略路由。网络运营商可以根据其网络策略操纵 BGP 社区属性。BGP 社区属性在RFC1997，BGP 社区属性和 RFC1998，BGP 社区属性在多归属路由中的应用中定义。它是一个可选的传递属性，因此本地策略可以通过不同的自治系统。

社区属性是一组社区值。每个社区的值是 4 个八位字节长。以下格式用于定义社区值。

```shell
AS:VAL
```

此格式表示 4 个八位字节的社区值。 `AS`是数字格式的高阶 2 个八位字节。 `VAL`是数字格式的低阶 2 个八位字节。这种格式对于定义面向 AS 的策略值很有用。例如，`7675:80`可以在 AS 7675 想要将本地策略值 80 传递给相邻对等方时使用。

```shell
internet
```

`internet` 代表知名社区值 0。

```shell
no-export
```

`no-export`代表知名社区值`NO_EXPORT`
(0xFFFFFF01)。不得将所有带有此值的路由通告到 BGP 联盟边界之外。如果相邻的 BGP 对等体是 BGP 联盟的一部分，则该对等体被视为在 BGP 联盟边界内，因此将向对等体通告路由。

```shell
no-advertise
```

`no-advertise`代表知名社区值 `NO_ADVERTISE`
(0xFFFFFF02)。所有带有此值的路由都不得通告给其他 BGP 对等体。

```shell
local-AS
```

`local-AS`代表知名社区值 `NO_EXPORT_SUBCONFED` (0xFFFFFF03)。不得将所有带有此值的路由通告给外部 BGP 对等体。即使相邻路由器是联盟的一部分，它也被视为外部 BGP 对等体，因此不会向对等体宣布路由。

当收到 BGP 社区属性时，忽略社区属性中重复的社区值，并按数字顺序对每个社区值进行排序。

- BGP社区列表
- 编号的BGP社区列表
- 路由图中的BGP社区
- 按社区显示BGP路由
- 使用BGP社区属性